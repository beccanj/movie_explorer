{
    "sourceFile": "src/components/tables/Emergencies.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 13,
            "patches": [
                {
                    "date": 1752131808244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752131832511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,160 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <L\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131847379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n   }, []);\r\n \r\n   return (\r\n-    <L\r\n+    \r\n     <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n       {/* Header */}\r\n       <div className=\"flex items-center justify-between mb-4\">\r\n         <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n@@ -157,164 +157,4 @@\n   );\r\n }\r\n \r\n export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    <\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131939990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,160 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    SD\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131945974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,160 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    WW\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131954168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,160 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    \r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131959867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,160 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <L\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131968883,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,161 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+import { Label } from \"recharts\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <Label\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131975265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,161 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+import { Label } from \"recharts\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <Layout>\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131984319,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,162 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+import { Label } from \"recharts\";\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <Layout>\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+    \r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752131994448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,163 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+import { Label } from \"recharts\";\r\n+impo\r\n+\r\n+const emergencyEvents = [\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Panic\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Ongoing\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"Fire\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"John Doe\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+  {\r\n+    location: \"Unit 7\",\r\n+    visitor: \"Rose smith\",\r\n+    type: \"SOS\",\r\n+    time: \"Today, 10:22 AM\",\r\n+    status: \"Resolved\",\r\n+  },\r\n+];\r\n+\r\n+export function EmergencyTable() {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <Layout>\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n+            <option>Today</option>\r\n+            <option>This Week</option>\r\n+            <option>This Month</option>\r\n+            <option>This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {emergencyEvents.map((event, index) => (\r\n+            <TableRow\r\n+              key={index}\r\n+              className={\r\n+                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n+                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n+                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n+                  ? \"bg-[#f2f7f3]\"\r\n+                  : \"\"\r\n+              }\r\n+            >\r\n+              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+              <TableCell>{event.visitor}</TableCell>\r\n+              <TableCell>{event.type}</TableCell>\r\n+              <TableCell>{event.time}</TableCell>\r\n+              <TableCell>\r\n+                <span\r\n+                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                    event.status === \"Ongoing\"\r\n+                      ? \"bg-red-100 text-red-700\"\r\n+                      : \"bg-green-100 text-green-700\"\r\n+                  }`}\r\n+                >\r\n+                  {event.status}\r\n+                </span>\r\n+              </TableCell>\r\n+              <TableCell className=\"relative dropdown-parent\">\r\n+                <MoreHorizontal\r\n+                  className=\"cursor-pointer text-muted-foreground\"\r\n+                  onClick={() => toggleDropdown(index)}\r\n+                />\r\n+\r\n+                {openDropdown === index && (\r\n+                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Resolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Resolved\r\n+                    </button>\r\n+                    <button\r\n+                      onClick={() => handleAction(\"Unresolved\", event)}\r\n+                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                    >\r\n+                      Unresolved\r\n+                    </button>\r\n+                  </div>\r\n+                )}\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ))}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+    </Layout>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\r\n"
                },
                {
                    "date": 1752482484563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,384 +9,47 @@\n   TableRow,\r\n } from \"@/components/ui/table\";\r\n import { MoreHorizontal } from \"lucide-react\";\r\n import { Label } from \"recharts\";\r\n-impo\r\n+import Layout from \"../layout/Layout\";\r\n \r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n+export function EmergencyTable({ \r\n+  events = [], \r\n+  onStatusChange,\r\n+  isLoading = false,\r\n+  error = null,\r\n+  timeFilter = \"Today\",\r\n+  onTimeFilterChange,\r\n+  highlightConditions = []\r\n+}) {\r\n   const [openDropdown, setOpenDropdown] = useState(null);\r\n \r\n   const toggleDropdown = (index) => {\r\n     setOpenDropdown((prev) => (prev === index ? null : index));\r\n   };\r\n \r\n-  const handleAction = (action, event) => {\r\n+  const handleAction = (action, event, index) => {\r\n     console.log(`Action \"${action}\" selected for`, event);\r\n+    \r\n+    // Call the parent component's status change handler if provided\r\n+    if (onStatusChange) {\r\n+      onStatusChange(action, event, index);\r\n+    }\r\n+    \r\n     setOpenDropdown(null);\r\n   };\r\n \r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    <Layout>\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-    </Layout>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-import { Label } from \"recharts\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    <Layout>\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n+  // Check if a row should be highlighted based on conditions\r\n+  const shouldHighlightRow = (event) => {\r\n+    if (highlightConditions.length === 0) return false;\r\n     \r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-import { Label } from \"recharts\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+    return highlightConditions.some(condition => {\r\n+      return Object.keys(condition).every(key => {\r\n+        return event[key] === condition[key];\r\n+      });\r\n+    });\r\n   };\r\n \r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n   useEffect(() => {\r\n     const handleClickOutside = (e) => {\r\n       if (!e.target.closest(\".dropdown-parent\")) {\r\n         setOpenDropdown(null);\r\n@@ -395,661 +58,51 @@\n     document.addEventListener(\"mousedown\", handleClickOutside);\r\n     return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n   }, []);\r\n \r\n-  return (\r\n-    <Layout>\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n+  // Loading state\r\n+  if (isLoading) {\r\n+    return (\r\n+      <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+        <div className=\"flex items-center justify-between mb-4\">\r\n+          <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n         </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-import { Label } from \"recharts\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    <Label\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n+        <div className=\"flex items-center justify-center h-64\">\r\n+          <div className=\"text-muted-foreground\">Loading emergency events...</div>\r\n         </div>\r\n       </div>\r\n+    );\r\n+  }\r\n \r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    <L\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n+  // Error state\r\n+  if (error) {\r\n+    return (\r\n+      <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+        <div className=\"flex items-center justify-between mb-4\">\r\n+          <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n         </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    \r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n+        <div className=\"flex items-center justify-center h-64\">\r\n+          <div className=\"text-red-600\">Error: {error}</div>\r\n         </div>\r\n       </div>\r\n+    );\r\n+  }\r\n \r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n   return (\r\n-    WW\r\n     <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n       {/* Header */}\r\n       <div className=\"flex items-center justify-between mb-4\">\r\n         <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n         <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n+          <select \r\n+            className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\r\n+            value={timeFilter}\r\n+            onChange={(e) => onTimeFilterChange && onTimeFilterChange(e.target.value)}\r\n+          >\r\n+            <option value=\"Today\">Today</option>\r\n+            <option value=\"This Week\">This Week</option>\r\n+            <option value=\"This Month\">This Month</option>\r\n+            <option value=\"This Year\">This Year</option>\r\n           </select>\r\n         </div>\r\n       </div>\r\n \r\n@@ -1066,382 +119,64 @@\n             <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n           </TableRow>\r\n         </TableHeader>\r\n         <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n+          {events.length === 0 ? (\r\n+            <TableRow>\r\n+              <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\r\n+                No emergency events found\r\n               </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n             </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n+          ) : (\r\n+            events.map((event, index) => (\r\n+              <TableRow\r\n+                key={event.id || index}\r\n+                className={shouldHighlightRow(event) ? \"bg-[#f2f7f3]\" : \"\"}\r\n+              >\r\n+                <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+                <TableCell>{event.visitor}</TableCell>\r\n+                <TableCell>{event.type}</TableCell>\r\n+                <TableCell>{event.time}</TableCell>\r\n+                <TableCell>\r\n+                  <span\r\n+                    className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                      event.status === \"Ongoing\"\r\n+                        ? \"bg-red-100 text-red-700\"\r\n+                        : \"bg-green-100 text-green-700\"\r\n+                    }`}\r\n+                  >\r\n+                    {event.status}\r\n+                  </span>\r\n+                </TableCell>\r\n+                <TableCell className=\"relative dropdown-parent\">\r\n+                  <MoreHorizontal\r\n+                    className=\"cursor-pointer text-muted-foreground\"\r\n+                    onClick={() => toggleDropdown(index)}\r\n+                  />\r\n \r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    SD\r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n+                  {openDropdown === index && (\r\n+                    <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                      <button\r\n+                        onClick={() => handleAction(\"Resolved\", event, index)}\r\n+                        className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                      >\r\n+                        Resolved\r\n+                      </button>\r\n+                      <button\r\n+                        onClick={() => handleAction(\"Unresolved\", event, index)}\r\n+                        className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                      >\r\n+                        Unresolved\r\n+                      </button>\r\n+                    </div>\r\n+                  )}\r\n+                </TableCell>\r\n+              </TableRow>\r\n+            ))\r\n+          )}\r\n         </TableBody>\r\n       </Table>\r\n     </div>\r\n   );\r\n }\r\n \r\n-export default EmergencyTable;\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCaption,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { MoreHorizontal } from \"lucide-react\";\r\n-\r\n-const emergencyEvents = [\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Panic\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Ongoing\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"Fire\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"John Doe\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-  {\r\n-    location: \"Unit 7\",\r\n-    visitor: \"Rose smith\",\r\n-    type: \"SOS\",\r\n-    time: \"Today, 10:22 AM\",\r\n-    status: \"Resolved\",\r\n-  },\r\n-];\r\n-\r\n-export function EmergencyTable() {\r\n-  const [openDropdown, setOpenDropdown] = useState(null);\r\n-\r\n-  const toggleDropdown = (index) => {\r\n-    setOpenDropdown((prev) => (prev === index ? null : index));\r\n-  };\r\n-\r\n-  const handleAction = (action, event) => {\r\n-    console.log(`Action \"${action}\" selected for`, event);\r\n-    setOpenDropdown(null);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    const handleClickOutside = (e) => {\r\n-      if (!e.target.closest(\".dropdown-parent\")) {\r\n-        setOpenDropdown(null);\r\n-      }\r\n-    };\r\n-    document.addEventListener(\"mousedown\", handleClickOutside);\r\n-    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n-  }, []);\r\n-\r\n-  return (\r\n-    \r\n-    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n-      {/* Header */}\r\n-      <div className=\"flex items-center justify-between mb-4\">\r\n-        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n-        <div className=\"relative\">\r\n-          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n-            <option>Today</option>\r\n-            <option>This Week</option>\r\n-            <option>This Month</option>\r\n-            <option>This Year</option>\r\n-          </select>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Table */}\r\n-      <Table>\r\n-        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n-        <TableHeader>\r\n-          <TableRow>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n-            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n-          </TableRow>\r\n-        </TableHeader>\r\n-        <TableBody>\r\n-          {emergencyEvents.map((event, index) => (\r\n-            <TableRow\r\n-              key={index}\r\n-              className={\r\n-                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n-                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n-                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n-                  ? \"bg-[#f2f7f3]\"\r\n-                  : \"\"\r\n-              }\r\n-            >\r\n-              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n-              <TableCell>{event.visitor}</TableCell>\r\n-              <TableCell>{event.type}</TableCell>\r\n-              <TableCell>{event.time}</TableCell>\r\n-              <TableCell>\r\n-                <span\r\n-                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n-                    event.status === \"Ongoing\"\r\n-                      ? \"bg-red-100 text-red-700\"\r\n-                      : \"bg-green-100 text-green-700\"\r\n-                  }`}\r\n-                >\r\n-                  {event.status}\r\n-                </span>\r\n-              </TableCell>\r\n-              <TableCell className=\"relative dropdown-parent\">\r\n-                <MoreHorizontal\r\n-                  className=\"cursor-pointer text-muted-foreground\"\r\n-                  onClick={() => toggleDropdown(index)}\r\n-                />\r\n-\r\n-                {openDropdown === index && (\r\n-                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Resolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Resolved\r\n-                    </button>\r\n-                    <button\r\n-                      onClick={() => handleAction(\"Unresolved\", event)}\r\n-                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n-                    >\r\n-                      Unresolved\r\n-                    </button>\r\n-                  </div>\r\n-                )}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          ))}\r\n-        </TableBody>\r\n-      </Table>\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EmergencyTable;\r\n+export default EmergencyTable;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752482885570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,9 @@\n   if (isLoading) {\r\n     return (\r\n       <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n         <div className=\"flex items-center justify-between mb-4\">\r\n-          <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+          <h2 className=\"text-2xl font-semibold\">Emergency Event </h2>\r\n         </div>\r\n         <div className=\"flex items-center justify-center h-64\">\r\n           <div className=\"text-muted-foreground\">Loading emergency events...</div>\r\n         </div>\r\n"
                },
                {
                    "date": 1752482896573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,182 @@\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCaption,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { MoreHorizontal } from \"lucide-react\";\r\n+import { Label } from \"recharts\";\r\n+import Layout from \"../layout/Layout\";\r\n+\r\n+export function EmergencyTable({ \r\n+  events = [], \r\n+  onStatusChange,\r\n+  isLoading = false,\r\n+  error = null,\r\n+  timeFilter = \"Today\",\r\n+  onTimeFilterChange,\r\n+  highlightConditions = []\r\n+}) {\r\n+  const [openDropdown, setOpenDropdown] = useState(null);\r\n+\r\n+  const toggleDropdown = (index) => {\r\n+    setOpenDropdown((prev) => (prev === index ? null : index));\r\n+  };\r\n+\r\n+  const handleAction = (action, event, index) => {\r\n+    console.log(`Action \"${action}\" selected for`, event);\r\n+    \r\n+    // Call the parent component's status change handler if provided\r\n+    if (onStatusChange) {\r\n+      onStatusChange(action, event, index);\r\n+    }\r\n+    \r\n+    setOpenDropdown(null);\r\n+  };\r\n+\r\n+  // Check if a row should be highlighted based on conditions\r\n+  const shouldHighlightRow = (event) => {\r\n+    if (highlightConditions.length === 0) return false;\r\n+    \r\n+    return highlightConditions.some(condition => {\r\n+      return Object.keys(condition).every(key => {\r\n+        return event[key] === condition[key];\r\n+      });\r\n+    });\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    const handleClickOutside = (e) => {\r\n+      if (!e.target.closest(\".dropdown-parent\")) {\r\n+        setOpenDropdown(null);\r\n+      }\r\n+    };\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n+  }, []);\r\n+\r\n+  // Loading state\r\n+  if (isLoading) {\r\n+    return (\r\n+      <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+        <div className=\"flex items-center justify-between mb-4\">\r\n+          <h2 className=\"text-2xl font-semibold\">Emergency Event History</h2>\r\n+        </div>\r\n+        <div className=\"flex items-center justify-center h-64\">\r\n+          <div className=\"text-muted-foreground\">Loading emergency events...</div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Error state\r\n+  if (error) {\r\n+    return (\r\n+      <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+        <div className=\"flex items-center justify-between mb-4\">\r\n+          <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        </div>\r\n+        <div className=\"flex items-center justify-center h-64\">\r\n+          <div className=\"text-red-600\">Error: {error}</div>\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  return (\r\n+    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n+      {/* Header */}\r\n+      <div className=\"flex items-center justify-between mb-4\">\r\n+        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n+        <div className=\"relative\">\r\n+          <select \r\n+            className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\r\n+            value={timeFilter}\r\n+            onChange={(e) => onTimeFilterChange && onTimeFilterChange(e.target.value)}\r\n+          >\r\n+            <option value=\"Today\">Today</option>\r\n+            <option value=\"This Week\">This Week</option>\r\n+            <option value=\"This Month\">This Month</option>\r\n+            <option value=\"This Year\">This Year</option>\r\n+          </select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Table */}\r\n+      <Table>\r\n+        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n+        <TableHeader>\r\n+          <TableRow>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n+            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n+          </TableRow>\r\n+        </TableHeader>\r\n+        <TableBody>\r\n+          {events.length === 0 ? (\r\n+            <TableRow>\r\n+              <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\r\n+                No emergency events found\r\n+              </TableCell>\r\n+            </TableRow>\r\n+          ) : (\r\n+            events.map((event, index) => (\r\n+              <TableRow\r\n+                key={event.id || index}\r\n+                className={shouldHighlightRow(event) ? \"bg-[#f2f7f3]\" : \"\"}\r\n+              >\r\n+                <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n+                <TableCell>{event.visitor}</TableCell>\r\n+                <TableCell>{event.type}</TableCell>\r\n+                <TableCell>{event.time}</TableCell>\r\n+                <TableCell>\r\n+                  <span\r\n+                    className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n+                      event.status === \"Ongoing\"\r\n+                        ? \"bg-red-100 text-red-700\"\r\n+                        : \"bg-green-100 text-green-700\"\r\n+                    }`}\r\n+                  >\r\n+                    {event.status}\r\n+                  </span>\r\n+                </TableCell>\r\n+                <TableCell className=\"relative dropdown-parent\">\r\n+                  <MoreHorizontal\r\n+                    className=\"cursor-pointer text-muted-foreground\"\r\n+                    onClick={() => toggleDropdown(index)}\r\n+                  />\r\n+\r\n+                  {openDropdown === index && (\r\n+                    <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n+                      <button\r\n+                        onClick={() => handleAction(\"Resolved\", event, index)}\r\n+                        className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                      >\r\n+                        Resolved\r\n+                      </button>\r\n+                      <button\r\n+                        onClick={() => handleAction(\"Unresolved\", event, index)}\r\n+                        className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n+                      >\r\n+                        Unresolved\r\n+                      </button>\r\n+                    </div>\r\n+                  )}\r\n+                </TableCell>\r\n+              </TableRow>\r\n+            ))\r\n+          )}\r\n+        </TableBody>\r\n+      </Table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EmergencyTable;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1752131808244,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCaption,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\n\r\nconst emergencyEvents = [\r\n  {\r\n    location: \"Unit 7\",\r\n    visitor: \"John Doe\",\r\n    type: \"Panic\",\r\n    time: \"Today, 10:22 AM\",\r\n    status: \"Ongoing\",\r\n  },\r\n  {\r\n    location: \"Unit 7\",\r\n    visitor: \"John Doe\",\r\n    type: \"SOS\",\r\n    time: \"Today, 10:22 AM\",\r\n    status: \"Resolved\",\r\n  },\r\n  {\r\n    location: \"Unit 7\",\r\n    visitor: \"John Doe\",\r\n    type: \"Fire\",\r\n    time: \"Today, 10:22 AM\",\r\n    status: \"Resolved\",\r\n  },\r\n  {\r\n    location: \"Unit 7\",\r\n    visitor: \"John Doe\",\r\n    type: \"SOS\",\r\n    time: \"Today, 10:22 AM\",\r\n    status: \"Resolved\",\r\n  },\r\n  {\r\n    location: \"Unit 7\",\r\n    visitor: \"Rose smith\",\r\n    type: \"SOS\",\r\n    time: \"Today, 10:22 AM\",\r\n    status: \"Resolved\",\r\n  },\r\n];\r\n\r\nexport function EmergencyTable() {\r\n  const [openDropdown, setOpenDropdown] = useState(null);\r\n\r\n  const toggleDropdown = (index) => {\r\n    setOpenDropdown((prev) => (prev === index ? null : index));\r\n  };\r\n\r\n  const handleAction = (action, event) => {\r\n    console.log(`Action \"${action}\" selected for`, event);\r\n    setOpenDropdown(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (!e.target.closest(\".dropdown-parent\")) {\r\n        setOpenDropdown(null);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <\r\n    <div className=\"w-full max-w-6xl mx-auto bg-white p-6 rounded-xl shadow-sm mt-10\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-2xl font-semibold\">Emergency Events</h2>\r\n        <div className=\"relative\">\r\n          <select className=\"flex h-10 items-center rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n            <option>Today</option>\r\n            <option>This Week</option>\r\n            <option>This Month</option>\r\n            <option>This Year</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <Table>\r\n        <TableCaption className=\"sr-only\">A list of emergency alerts.</TableCaption>\r\n        <TableHeader>\r\n          <TableRow>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Location</TableHead>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Visitor</TableHead>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Type</TableHead>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Time</TableHead>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Status</TableHead>\r\n            <TableHead className=\"font-medium text-muted-foreground\">Action</TableHead>\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {emergencyEvents.map((event, index) => (\r\n            <TableRow\r\n              key={index}\r\n              className={\r\n                (event.type === \"Panic\" && event.visitor === \"John Doe\") ||\r\n                (event.visitor === \"Rose smith\" && event.type === \"SOS\") ||\r\n                (event.type === \"Fire\" && event.visitor === \"John Doe\")\r\n                  ? \"bg-[#f2f7f3]\"\r\n                  : \"\"\r\n              }\r\n            >\r\n              <TableCell className=\"font-medium\">{event.location}</TableCell>\r\n              <TableCell>{event.visitor}</TableCell>\r\n              <TableCell>{event.type}</TableCell>\r\n              <TableCell>{event.time}</TableCell>\r\n              <TableCell>\r\n                <span\r\n                  className={`px-3 py-1 text-xs font-medium rounded-full ${\r\n                    event.status === \"Ongoing\"\r\n                      ? \"bg-red-100 text-red-700\"\r\n                      : \"bg-green-100 text-green-700\"\r\n                  }`}\r\n                >\r\n                  {event.status}\r\n                </span>\r\n              </TableCell>\r\n              <TableCell className=\"relative dropdown-parent\">\r\n                <MoreHorizontal\r\n                  className=\"cursor-pointer text-muted-foreground\"\r\n                  onClick={() => toggleDropdown(index)}\r\n                />\r\n\r\n                {openDropdown === index && (\r\n                  <div className=\"absolute right-0 mt-2 w-36 bg-white border rounded shadow z-20\">\r\n                    <button\r\n                      onClick={() => handleAction(\"Resolved\", event)}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n                    >\r\n                      Resolved\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleAction(\"Unresolved\", event)}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\"\r\n                    >\r\n                      Unresolved\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmergencyTable;\r\n"
        }
    ]
}