{
    "sourceFile": "src/components/tables/CheckinCheckoutTable.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 27,
            "patches": [
                {
                    "date": 1753349165732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753349201263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n \r\n   const fetchVisitors = async () => {\r\n     setLoading(true);\r\n     try {\r\n-      const data = await getVisitLogs();\r\n+      const data = await getVisiitLogs();\r\n       console.log(data)\r\n \r\n       let allData = data;\r\n \r\n"
                },
                {
                    "date": 1753349213972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,181 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Name</TableHead>\r\n+              <TableHead>Phone</TableHead>\r\n+              <TableHead>Unit</TableHead>\r\n+              <TableHead>Type</TableHead>\r\n+              <TableHead>Date</TableHead>\r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              <TableHead>Car Plate</TableHead>\r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753349219389,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,10 +12,10 @@\n import { Upload, ChevronDown } from \"lucide-react\";\r\n import { getVisitLogs } from \"@/services/checkincheckout\";\r\n import { Button } from \"@/components/ui/button\";\r\n import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n \r\n-\r\n export default function CheckinCheckoutTable() {\r\n   const [visitors, setVisitors] = useState([]);\r\n   const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n   const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n@@ -32,9 +32,9 @@\n \r\n   const fetchVisitors = async () => {\r\n     setLoading(true);\r\n     try {\r\n-      const data = await getVisitLLogs();\r\n+      const data = await getVisitLogs();\r\n       console.log(data)\r\n \r\n       let allData = data;\r\n \r\n@@ -178,185 +178,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisiitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Name</TableHead>\r\n-              <TableHead>Phone</TableHead>\r\n-              <TableHead>Unit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              <TableHead>Car Plate</TableHead>\r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1753350966628,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n               <TableHead>Date</TableHead>\r\n               <TableHead>Check-in</TableHead>\r\n               <TableHead>Check-out</TableHead>\r\n               <TableHead>Duration</TableHead>\r\n-              <TableHead>Car Plate</TableHead>\r\n+              \r\n               <TableHead>Action</TableHead>\r\n             </TableRow>\r\n           </TableHeader>\r\n           <TableBody>\r\n"
                },
                {
                    "date": 1753350975856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n       <div className=\"overflow-x-auto\">\r\n         <Table>\r\n           <TableHeader>\r\n             <TableRow>\r\n-              <TableHead>Name</TableHead>\r\n+              <TableHead> Name</TableHead>\r\n               <TableHead>Phone</TableHead>\r\n               <TableHead>Unit</TableHead>\r\n               <TableHead>Type</TableHead>\r\n               <TableHead>Date</TableHead>\r\n"
                },
                {
                    "date": 1753351007819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,25 @@\n       <div className=\"overflow-x-auto\">\r\n         <Table>\r\n           <TableHeader>\r\n             <TableRow>\r\n-              <TableHead> Name</TableHead>\r\n+              <TableHead>Request Method:\tGET\r\n+Request URL:\thttps://guestapi.zynamis.co.ke/api/api/visits/visit-logs/\r\n+Using the URLconf defined in visitor_gate.urls, Django tried these URL patterns, in this order:\r\n+\r\n+admin/\r\n+api/schema/ [name='schema']\r\n+[name='swagger-ui']\r\n+api/redoc/ [name='redoc']\r\n+api/token/ [name='token_obtain_pair']\r\n+api/token/refresh/ [name='token_refresh']\r\n+api/visitors/\r\n+api/visits/\r\n+api/user/\r\n+api/statistics/\r\n+api/incidence-and-emergency/\r\n+^media/(?P<path>.*)$\r\n+The current path, api/api/visits Name</TableHead>\r\n               <TableHead>Phone</TableHead>\r\n               <TableHead>Unit</TableHead>\r\n               <TableHead>Type</TableHead>\r\n               <TableHead>Date</TableHead>\r\n"
                },
                {
                    "date": 1753351014499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,25 +101,9 @@\n       <div className=\"overflow-x-auto\">\r\n         <Table>\r\n           <TableHeader>\r\n             <TableRow>\r\n-              <TableHead>Request Method:\tGET\r\n-Request URL:\thttps://guestapi.zynamis.co.ke/api/api/visits/visit-logs/\r\n-Using the URLconf defined in visitor_gate.urls, Django tried these URL patterns, in this order:\r\n-\r\n-admin/\r\n-api/schema/ [name='schema']\r\n-[name='swagger-ui']\r\n-api/redoc/ [name='redoc']\r\n-api/token/ [name='token_obtain_pair']\r\n-api/token/refresh/ [name='token_refresh']\r\n-api/visitors/\r\n-api/visits/\r\n-api/user/\r\n-api/statistics/\r\n-api/incidence-and-emergency/\r\n-^media/(?P<path>.*)$\r\n-The current path, api/api/visits Name</TableHead>\r\n+              <TableHead>V Name</TableHead>\r\n               <TableHead>Phone</TableHead>\r\n               <TableHead>Unit</TableHead>\r\n               <TableHead>Type</TableHead>\r\n               <TableHead>Date</TableHead>\r\n"
                },
                {
                    "date": 1753351020521,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,181 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone</TableHead>\r\n+              <TableHead>Unit</TableHead>\r\n+              <TableHead>Type</TableHead>\r\n+              <TableHead>Date</TableHead>\r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351028882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,181 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone N</TableHead>\r\n+              <TableHead>Unit</TableHead>\r\n+              <TableHead>Type</TableHead>\r\n+              <TableHead>Date</TableHead>\r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351041623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,181 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              <TableHead>Type</TableHead>\r\n+              <TableHead>Date</TableHead>\r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351064455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,181 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>VisitUnit</TableHead>\r\n+              <TableHead>Type</TableHead>\r\n+              <TableHead>Date</TableHead>\r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351085280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-in</TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351090751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-in </TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351096605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-n </TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351101774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Duration</TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351108356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n               <TableHead>Phone No.</TableHead>\r\n               <TableHead>Visit Unit</TableHead>\r\n               \r\n               <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n+              <TableHead>Check-Out </TableHead>\r\n               <TableHead>Duration</TableHead>\r\n               \r\n               <TableHead>Action</TableHead>\r\n             </TableRow>\r\n@@ -177,1449 +177,4 @@\n       </div>\r\n     </div>\r\n   );\r\n }\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-n </TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-in </TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>VisitUnit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone N</TableHead>\r\n-              <TableHead>Unit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone</TableHead>\r\n-              <TableHead>Unit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>V Name</TableHead>\r\n-              <TableHead>Phone</TableHead>\r\n-              <TableHead>Unit</TableHead>\r\n-              <TableHead>Type</TableHead>\r\n-              <TableHead>Date</TableHead>\r\n-              <TableHead>Check-in</TableHead>\r\n-              <TableHead>Check-out</TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1753351117526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead></TableHead>\r\n+              \r\n+              <TableHead>Action</TableHead>\r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351126184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  <TableCell>{visitor.visit_date}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351204379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  <TableCell>{visitor.duration}</TableCell>\r\n+                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351212579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,9 @@\n                 <TableRow key={index}>\r\n                   <TableCell>{visitor.visitor_name}</TableCell>\r\n                   <TableCell>{visitor.phone_number}</TableCell>\r\n                   <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n+                 \r\n                   \r\n                   <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n                   <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n                   <TableCell>{visitor.duration}</TableCell>\r\n"
                },
                {
                    "date": 1753351232598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,179 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                 \r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                 \r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351292279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                 \r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                  \r\n+                 \r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351302975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                 \r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                   <TableCell>{formatDate(visitor.check_)}</TableCell>\r\n+                 \r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351311921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,180 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                 \r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                   <TableCell>{formatDate(visitor.status)}</TableCell>\r\n+                 \r\n+                  <TableCell>\r\n+                    <button\r\n+                      className=\"text-blue-600 hover:underline\"\r\n+                      onClick={() => handleView(visitor)}\r\n+                    >\r\n+                      View\r\n+                    </button>\r\n+                  </TableCell>\r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753351344200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,16 +129,9 @@\n                   <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n                   <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n                    <TableCell>{formatDate(visitor.status)}</TableCell>\r\n                  \r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n+                 \r\n                 </TableRow>\r\n               ))\r\n             ) : (\r\n               <TableRow>\r\n"
                },
                {
                    "date": 1753351493536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,173 @@\n+\"use client\";\r\n+\r\n+import React, { useState, useEffect } from \"react\";\r\n+import {\r\n+  Table,\r\n+  TableBody,\r\n+  TableCell,\r\n+  TableHead,\r\n+  TableHeader,\r\n+  TableRow,\r\n+} from \"@/components/ui/table\";\r\n+import { Upload, ChevronDown } from \"lucide-react\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+// import { getVisitLogs } from \"ser\";\r\n+\r\n+export default function CheckinCheckoutTable() {\r\n+  const [visitors, setVisitors] = useState([]);\r\n+  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const entriesPerPage = 6;\r\n+  const [totalEntries, setTotalEntries] = useState(0);\r\n+  const [loading, setLoading] = useState(false);\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    console.log(\"am back\")\r\n+    fetchVisitors();\r\n+  }, [visitorTypeFilter, currentPage]);\r\n+\r\n+  const fetchVisitors = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const data = await getVisitLogs();\r\n+      console.log(data)\r\n+\r\n+      let allData = data;\r\n+\r\n+      if (visitorTypeFilter !== \"all\") {\r\n+        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n+      }\r\n+\r\n+      setFilteredAllVisitors(allData);\r\n+      setTotalEntries(allData.length);\r\n+\r\n+      const start = (currentPage - 1) * entriesPerPage;\r\n+      const paginated = allData.slice(start, start + entriesPerPage);\r\n+      setVisitors(paginated);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching visitors:\", error);\r\n+      setVisitors([]);\r\n+      setFilteredAllVisitors([]);\r\n+      setTotalEntries(0);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  const handleFilterChange = (e) => {\r\n+    setVisitorTypeFilter(e.target.value);\r\n+    setCurrentPage(1);\r\n+  };\r\n+\r\n+  const handleView = (visitor) => {\r\n+    navigate(\"/view\", { state: { visitor } });\r\n+  };\r\n+\r\n+  const formatDate = (dateStr) => {\r\n+    if (!dateStr) return \"--\";\r\n+    const d = new Date(dateStr);\r\n+    return d.toLocaleString(\"en-KE\", {\r\n+      dateStyle: \"medium\",\r\n+      timeStyle: \"short\",\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"p-6 space-y-6\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+      \r\n+        <div className=\"flex items-center gap-2\">\r\n+          <select\r\n+            value={visitorTypeFilter}\r\n+            onChange={handleFilterChange}\r\n+            className=\"px-3 py-2 border rounded text-sm\"\r\n+          >\r\n+            <option value=\"all\">All</option>\r\n+            <option value=\"Returning\">Returning</option>\r\n+            <option value=\"New\">New</option>\r\n+          </select>\r\n+          <Button variant=\"outline\" size=\"sm\">\r\n+            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            Export\r\n+            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <Table>\r\n+          <TableHeader>\r\n+            <TableRow>\r\n+              <TableHead>Visitor Name</TableHead>\r\n+              <TableHead>Phone No.</TableHead>\r\n+              <TableHead>Visit Unit</TableHead>\r\n+              \r\n+              <TableHead>Check-In Time </TableHead>\r\n+              <TableHead>Check-Out Time</TableHead>\r\n+              <TableHead>Status</TableHead>\r\n+              \r\n+             \r\n+            </TableRow>\r\n+          </TableHeader>\r\n+          <TableBody>\r\n+            {loading ? (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>Loading...</TableCell>\r\n+              </TableRow>\r\n+            ) : visitors.length > 0 ? (\r\n+              visitors.map((visitor, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{visitor.visitor_name}</TableCell>\r\n+                  <TableCell>{visitor.phone_number}</TableCell>\r\n+                  <TableCell>{visitor.unit_number}</TableCell>\r\n+                 \r\n+                  \r\n+                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n+                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n+                   <TableCell>{formatDate(visitor.status)}</TableCell>\r\n+                 \r\n+                 \r\n+                </TableRow>\r\n+              ))\r\n+            ) : (\r\n+              <TableRow>\r\n+                <TableCell colSpan={10}>No visitors found</TableCell>\r\n+              </TableRow>\r\n+            )}\r\n+          </TableBody>\r\n+        </Table>\r\n+      </div>\r\n+\r\n+      {/* Pagination */}\r\n+      <div className=\"flex justify-end mt-4 space-x-2\">\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Previous\r\n+        </Button>\r\n+        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          size=\"sm\"\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) =>\r\n+              prev < Math.ceil(totalEntries / entriesPerPage)\r\n+                ? prev + 1\r\n+                : prev\r\n+            )\r\n+          }\r\n+          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n+        >\r\n+          Next\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1753360894148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n \"use client\";\r\n \r\n import React, { useState, useEffect } from \"react\";\r\n+// import { getAllVisitors } from \"../../services/visitorservice\";\r\n import {\r\n   Table,\r\n   TableBody,\r\n   TableCell,\r\n@@ -9,1597 +10,252 @@\n   TableHeader,\r\n   TableRow,\r\n } from \"@/components/ui/table\";\r\n import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n+import { getVisitLogs } from \"@/services/checkincheckout\"; \r\n \r\n export default function CheckinCheckoutTable() {\r\n   const [visitors, setVisitors] = useState([]);\r\n   const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const [entriesPerPage, setEntriesPerPage] = useState(5);\r\n   const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n   const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n \r\n   useEffect(() => {\r\n-    console.log(\"am back\")\r\n     fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n+  }, [currentPage, entriesPerPage, visitorTypeFilter]);\r\n \r\n   const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n+  setLoading(true);\r\n+  try {\r\n+    const data = await getVisitLogs(); \r\n+    let allData = data;\r\n \r\n-      let allData = data;\r\n+    if (visitorTypeFilter !== \"all\") {\r\n+      allData = allData.filter(\r\n+        (v) => v.visitor_type.toLowerCase() === visitorTypeFilter.toLowerCase()\r\n+      );\r\n+    }\r\n \r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n+    setFilteredAllVisitors(allData);\r\n+    setTotalEntries(allData.length);\r\n \r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n+    const start = (currentPage - 1) * entriesPerPage;\r\n+    const paginated = allData.slice(start, start + entriesPerPage);\r\n+    setVisitors(paginated);\r\n+  } catch (error) {\r\n+    console.error(\"Error fetching visitors:\", error);\r\n+    setVisitors([]);\r\n+    setFilteredAllVisitors([]);\r\n+    setTotalEntries(0);\r\n+  } finally {\r\n+    setLoading(false);\r\n+  }\r\n+};\r\n \r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n+  const handleExportCSV = () => {\r\n+    const headers = [\r\n+      \"Visitor Name\",\r\n+      \"Phone No\",\r\n+      \"Visit Unit\",\r\n+      \"Check-In Time\",\r\n+      \"Check-Out Time\",\r\n+      \"Status\",\r\n+    ];\r\n+    const rows = filteredAllVisitors.map((v) => [\r\n+      v.visitor_name,\r\n+      v.phone_number,\r\n+      v.host_unit || \"N/A\",\r\n+      v.check_in_time || \"--\",\r\n+      v.check_out_time || \"--\",\r\n+      v.status,\r\n+    ]);\r\n+    const csvContent =\r\n+      \"data:text/csv;charset=utf-8,\" +\r\n+      [headers, ...rows].map((r) => r.join(\",\")).join(\"\\n\");\r\n \r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n+    const link = document.createElement(\"a\");\r\n+    link.href = encodeURI(csvContent);\r\n+    link.download = \"visitor_logs.csv\";\r\n+    document.body.appendChild(link);\r\n+    link.click();\r\n+    document.body.removeChild(link);\r\n   };\r\n \r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n+  const totalPages = Math.ceil(totalEntries / entriesPerPage);\r\n \r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n+  const handleNext = () => {\r\n+    if (currentPage < totalPages) setCurrentPage((p) => p + 1);\r\n   };\r\n \r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-      \r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                   <TableCell>{formatDate(visitor.status)}</TableCell>\r\n-                 \r\n-                 \r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n+  const handlePrevious = () => {\r\n+    if (currentPage > 1) setCurrentPage((p) => p - 1);\r\n   };\r\n \r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n+  const handleEntriesChange = (e) => {\r\n+    setEntriesPerPage(Number(e.target.value));\r\n     setCurrentPage(1);\r\n   };\r\n \r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                   <TableCell>{formatDate(visitor.status)}</TableCell>\r\n-                 \r\n-                 \r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n   const handleFilterChange = (e) => {\r\n     setVisitorTypeFilter(e.target.value);\r\n     setCurrentPage(1);\r\n   };\r\n \r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n+  return (\r\n+    <>\r\n+      <div className=\"w-full max-w-7xl mx-auto bg-white rounded-xl shadow-sm mt-5\">\r\n+        <div className=\"flex justify-between items-center p-6 mb-4\">\r\n \r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n+          <h2 className=\"text-2xl font-semibold\">Check-in/Check-out Logs</h2>\r\n+          <button\r\n+            onClick={handleExportCSV}\r\n+            className=\"flex items-center gap-2 h-12 px-4 pr-6 bg-[#005E0E] text-white rounded-lg hover:bg-[#123107] transition\"\r\n           >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n+            <Upload />\r\n             Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n+          </button>\r\n         </div>\r\n-      </div>\r\n \r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                   <TableCell>{formatDate(visitor.check_)}</TableCell>\r\n-                 \r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n+        {/* Filter Controls */}\r\n+        <div className=\"flex justify-between items-center px-6\">\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <span className=\"text-sm text-gray-600\">Show</span>\r\n+            <div className=\"relative\">\r\n+              <select\r\n+                className=\"border rounded-md px-3 py-2 text-sm appearance-none pr-8\"\r\n+                value={entriesPerPage}\r\n+                onChange={handleEntriesChange}\r\n+              >\r\n+                {[5, 10, 25, 50].map((val) => (\r\n+                  <option key={val} value={val}>\r\n+                    {val}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+              <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none\" />\r\n+            </div>\r\n+            <span className=\"text-sm text-gray-600\">entries</span>\r\n+          </div>\r\n \r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n+          <div className=\"relative\">\r\n+            <select\r\n+              className=\"border rounded-md px-3 py-2 text-sm appearance-none pr-8\"\r\n+              value={visitorTypeFilter}\r\n+              onChange={handleFilterChange}\r\n+            >\r\n+              <option value=\"all\">All</option>\r\n+              <option value=\"recurring\">Recurring</option>\r\n+              <option value=\"service\">Service</option>\r\n+              <option value=\"one-time\">One-time</option>\r\n+            </select>\r\n+            <ChevronDown className=\"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none\" />\r\n+          </div>\r\n         </div>\r\n-      </div>\r\n \r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n+        {/* Visitor Table */}\r\n+        <div className=\"p-4\">\r\n+          <Table className=\"w-full border-separate border-spacing-y-2\">\r\n+            <TableHeader>\r\n+              <TableRow className=\"bg-[#F5F6FA] text-[#3A3F51] rounded-lg\">\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3\">Visitor Name</TableHead>\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3\">Phone No.</TableHead>\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3\">Visit Unit</TableHead>\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3\">Check-In Time</TableHead>\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3\">Check-Out Time</TableHead>\r\n+                <TableHead className=\"text-sm font-semibold px-4 py-3 text-center\">Status</TableHead>\r\n               </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  \r\n-                 \r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n+            </TableHeader>\r\n \r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                 \r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n+            <TableBody>\r\n+              {loading ? (\r\n+                <TableRow>\r\n+                  <TableCell colSpan={6} className=\"text-center py-10 text-gray-500\">\r\n+                    Loading...\r\n                   </TableCell>\r\n                 </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                 \r\n-                  \r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n+              ) : visitors.length === 0 ? (\r\n+                <TableRow>\r\n+                  <TableCell colSpan={6} className=\"text-center py-10 text-gray-500\">\r\n+                    No visitors found.\r\n                   </TableCell>\r\n                 </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n+              ) : (\r\n+                visitors.map((visitor, index) => (\r\n+                  <TableRow\r\n+                    key={index}\r\n+                    className=\"bg-white rounded-lg shadow-sm hover:shadow-md transition duration-200\"\r\n+                  >\r\n+                    <TableCell className=\"px-4 py-4 font-medium text-[#171B1E]\">\r\n+                      {visitor.visitor_name}\r\n+                    </TableCell>\r\n+                    <TableCell className=\"px-4 py-4 text-[#464F60]\">\r\n+                      {visitor.phone_number}\r\n+                    </TableCell>\r\n+                    <TableCell className=\"px-4 py-4 text-[#464F60]\">\r\n+                      {visitor.host_unit || \"N/A\"}\r\n+                    </TableCell>\r\n+                    <TableCell className=\"px-4 py-4 text-[#464F60]\">\r\n+                      {visitor.check_in_time || \"--\"}\r\n+                    </TableCell>\r\n+                    <TableCell className=\"px-4 py-4 text-[#464F60]\">\r\n+                      {visitor.check_out_time || \"--\"}\r\n+                    </TableCell>\r\n+                    <TableCell className=\"px-4 py-4\">\r\n+                      <div\r\n+                        className={`mx-auto w-fit px-2 py-1 rounded text-xs font-semibold ${\r\n+                          visitor.status === \"checked_in\"\r\n+                            ? \"bg-[rgba(1,210,30,0.2)] text-[#017B25]\"\r\n+                            : visitor.status === \"checked_out\"\r\n+                            ? \"bg-[#E0DBF4] text-[#4B3BAE]\"\r\n+                            : \"bg-yellow-100 text-yellow-800\"\r\n+                        }`}\r\n+                      >\r\n+                        {visitor.status === \"checked_in\"\r\n+                          ? \"Checked-In\"\r\n+                          : visitor.status === \"checked_out\"\r\n+                          ? \"Checked-Out\"\r\n+                          : visitor.status}\r\n+                      </div>\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+                ))\r\n+              )}\r\n+            </TableBody>\r\n+          </Table>\r\n         </div>\r\n       </div>\r\n \r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead>Status</TableHead>\r\n-              \r\n-             \r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n       {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n+      <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-between w-full px-4 gap-2 sm:gap-0\">\r\n+        <div className=\"flex items-center gap-2 w-full sm:w-auto\">\r\n+          <button\r\n+            onClick={handlePrevious}\r\n+            disabled={currentPage === 1}\r\n+            className=\"h-12 px-6 border border-[#005E0E] rounded-lg text-[#005E0E] hover:bg-[#f4fdf5] transition disabled:opacity-50\"\r\n           >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n+            Previous\r\n+          </button>\r\n+          <button className=\"w-14 h-12 bg-[#005E0E] text-white rounded-lg hover:bg-[#004a0b] transition\">\r\n+            {currentPage}\r\n+          </button>\r\n+          <button\r\n+            onClick={handleNext}\r\n+            disabled={currentPage === totalPages}\r\n+            className=\"h-12 px-6 border border-[#005E0E] rounded-lg text-[#005E0E] hover:bg-[#f4fdf5] transition disabled:opacity-50\"\r\n+          >\r\n+            Next\r\n+          </button>\r\n         </div>\r\n-      </div>\r\n \r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out Time</TableHead>\r\n-              <TableHead></TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-}\r\n-\"use client\";\r\n-\r\n-import React, { useState, useEffect } from \"react\";\r\n-import {\r\n-  Table,\r\n-  TableBody,\r\n-  TableCell,\r\n-  TableHead,\r\n-  TableHeader,\r\n-  TableRow,\r\n-} from \"@/components/ui/table\";\r\n-import { Upload, ChevronDown } from \"lucide-react\";\r\n-import { getVisitLogs } from \"@/services/checkincheckout\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-// import { getVisitLogs } from \"ser\";\r\n-\r\n-export default function CheckinCheckoutTable() {\r\n-  const [visitors, setVisitors] = useState([]);\r\n-  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n-  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n-  const [currentPage, setCurrentPage] = useState(1);\r\n-  const entriesPerPage = 6;\r\n-  const [totalEntries, setTotalEntries] = useState(0);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    console.log(\"am back\")\r\n-    fetchVisitors();\r\n-  }, [visitorTypeFilter, currentPage]);\r\n-\r\n-  const fetchVisitors = async () => {\r\n-    setLoading(true);\r\n-    try {\r\n-      const data = await getVisitLogs();\r\n-      console.log(data)\r\n-\r\n-      let allData = data;\r\n-\r\n-      if (visitorTypeFilter !== \"all\") {\r\n-        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n-      }\r\n-\r\n-      setFilteredAllVisitors(allData);\r\n-      setTotalEntries(allData.length);\r\n-\r\n-      const start = (currentPage - 1) * entriesPerPage;\r\n-      const paginated = allData.slice(start, start + entriesPerPage);\r\n-      setVisitors(paginated);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching visitors:\", error);\r\n-      setVisitors([]);\r\n-      setFilteredAllVisitors([]);\r\n-      setTotalEntries(0);\r\n-    } finally {\r\n-      setLoading(false);\r\n-    }\r\n-  };\r\n-\r\n-  const handleFilterChange = (e) => {\r\n-    setVisitorTypeFilter(e.target.value);\r\n-    setCurrentPage(1);\r\n-  };\r\n-\r\n-  const handleView = (visitor) => {\r\n-    navigate(\"/view\", { state: { visitor } });\r\n-  };\r\n-\r\n-  const formatDate = (dateStr) => {\r\n-    if (!dateStr) return \"--\";\r\n-    const d = new Date(dateStr);\r\n-    return d.toLocaleString(\"en-KE\", {\r\n-      dateStyle: \"medium\",\r\n-      timeStyle: \"short\",\r\n-    });\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"p-6 space-y-6\">\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n-        <div className=\"flex items-center gap-2\">\r\n-          <select\r\n-            value={visitorTypeFilter}\r\n-            onChange={handleFilterChange}\r\n-            className=\"px-3 py-2 border rounded text-sm\"\r\n-          >\r\n-            <option value=\"all\">All</option>\r\n-            <option value=\"Returning\">Returning</option>\r\n-            <option value=\"New\">New</option>\r\n-          </select>\r\n-          <Button variant=\"outline\" size=\"sm\">\r\n-            <Upload className=\"w-4 h-4 mr-2\" />\r\n-            Export\r\n-            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n-          </Button>\r\n+        <div className=\"text-sm text-gray-600 mt-4 sm:mt-0\">\r\n+          Showing {(currentPage - 1) * entriesPerPage + 1} to{\" \"}\r\n+          {Math.min(currentPage * entriesPerPage, totalEntries)} of{\" \"}\r\n+          {totalEntries} entries\r\n         </div>\r\n       </div>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <Table>\r\n-          <TableHeader>\r\n-            <TableRow>\r\n-              <TableHead>Visitor Name</TableHead>\r\n-              <TableHead>Phone No.</TableHead>\r\n-              <TableHead>Visit Unit</TableHead>\r\n-              \r\n-              <TableHead>Check-In Time </TableHead>\r\n-              <TableHead>Check-Out </TableHead>\r\n-              <TableHead>Duration</TableHead>\r\n-              \r\n-              <TableHead>Action</TableHead>\r\n-            </TableRow>\r\n-          </TableHeader>\r\n-          <TableBody>\r\n-            {loading ? (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>Loading...</TableCell>\r\n-              </TableRow>\r\n-            ) : visitors.length > 0 ? (\r\n-              visitors.map((visitor, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{visitor.visitor_name}</TableCell>\r\n-                  <TableCell>{visitor.phone_number}</TableCell>\r\n-                  <TableCell>{visitor.unit_number}</TableCell>\r\n-                  <TableCell>{visitor.visitor_type}</TableCell>\r\n-                  <TableCell>{visitor.visit_date}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n-                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n-                  <TableCell>{visitor.duration}</TableCell>\r\n-                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n-                  <TableCell>\r\n-                    <button\r\n-                      className=\"text-blue-600 hover:underline\"\r\n-                      onClick={() => handleView(visitor)}\r\n-                    >\r\n-                      View\r\n-                    </button>\r\n-                  </TableCell>\r\n-                </TableRow>\r\n-              ))\r\n-            ) : (\r\n-              <TableRow>\r\n-                <TableCell colSpan={10}>No visitors found</TableCell>\r\n-              </TableRow>\r\n-            )}\r\n-          </TableBody>\r\n-        </Table>\r\n-      </div>\r\n-\r\n-      {/* Pagination */}\r\n-      <div className=\"flex justify-end mt-4 space-x-2\">\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n-          disabled={currentPage === 1}\r\n-        >\r\n-          Previous\r\n-        </Button>\r\n-        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n-        <Button\r\n-          variant=\"outline\"\r\n-          size=\"sm\"\r\n-          onClick={() =>\r\n-            setCurrentPage((prev) =>\r\n-              prev < Math.ceil(totalEntries / entriesPerPage)\r\n-                ? prev + 1\r\n-                : prev\r\n-            )\r\n-          }\r\n-          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n-        >\r\n-          Next\r\n-        </Button>\r\n-      </div>\r\n-    </div>\r\n+    </>\r\n   );\r\n-}\r\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753349165732,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Upload, ChevronDown } from \"lucide-react\";\r\nimport { getVisitLogs } from \"@/services/checkincheckout\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport default function CheckinCheckoutTable() {\r\n  const [visitors, setVisitors] = useState([]);\r\n  const [filteredAllVisitors, setFilteredAllVisitors] = useState([]);\r\n  const [visitorTypeFilter, setVisitorTypeFilter] = useState(\"all\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const entriesPerPage = 6;\r\n  const [totalEntries, setTotalEntries] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    console.log(\"am back\")\r\n    fetchVisitors();\r\n  }, [visitorTypeFilter, currentPage]);\r\n\r\n  const fetchVisitors = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await getVisitLogs();\r\n      console.log(data)\r\n\r\n      let allData = data;\r\n\r\n      if (visitorTypeFilter !== \"all\") {\r\n        allData = allData.filter((v) => v.visitor_type === visitorTypeFilter);\r\n      }\r\n\r\n      setFilteredAllVisitors(allData);\r\n      setTotalEntries(allData.length);\r\n\r\n      const start = (currentPage - 1) * entriesPerPage;\r\n      const paginated = allData.slice(start, start + entriesPerPage);\r\n      setVisitors(paginated);\r\n    } catch (error) {\r\n      console.error(\"Error fetching visitors:\", error);\r\n      setVisitors([]);\r\n      setFilteredAllVisitors([]);\r\n      setTotalEntries(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    setVisitorTypeFilter(e.target.value);\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const handleView = (visitor) => {\r\n    navigate(\"/view\", { state: { visitor } });\r\n  };\r\n\r\n  const formatDate = (dateStr) => {\r\n    if (!dateStr) return \"--\";\r\n    const d = new Date(dateStr);\r\n    return d.toLocaleString(\"en-KE\", {\r\n      dateStyle: \"medium\",\r\n      timeStyle: \"short\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          <select\r\n            value={visitorTypeFilter}\r\n            onChange={handleFilterChange}\r\n            className=\"px-3 py-2 border rounded text-sm\"\r\n          >\r\n            <option value=\"all\">All</option>\r\n            <option value=\"Returning\">Returning</option>\r\n            <option value=\"New\">New</option>\r\n          </select>\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            <Upload className=\"w-4 h-4 mr-2\" />\r\n            Export\r\n            <ChevronDown className=\"ml-2 h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>Name</TableHead>\r\n              <TableHead>Phone</TableHead>\r\n              <TableHead>Unit</TableHead>\r\n              <TableHead>Type</TableHead>\r\n              <TableHead>Date</TableHead>\r\n              <TableHead>Check-in</TableHead>\r\n              <TableHead>Check-out</TableHead>\r\n              <TableHead>Duration</TableHead>\r\n              <TableHead>Car Plate</TableHead>\r\n              <TableHead>Action</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {loading ? (\r\n              <TableRow>\r\n                <TableCell colSpan={10}>Loading...</TableCell>\r\n              </TableRow>\r\n            ) : visitors.length > 0 ? (\r\n              visitors.map((visitor, index) => (\r\n                <TableRow key={index}>\r\n                  <TableCell>{visitor.visitor_name}</TableCell>\r\n                  <TableCell>{visitor.phone_number}</TableCell>\r\n                  <TableCell>{visitor.unit_number}</TableCell>\r\n                  <TableCell>{visitor.visitor_type}</TableCell>\r\n                  <TableCell>{visitor.visit_date}</TableCell>\r\n                  <TableCell>{formatDate(visitor.check_in_time)}</TableCell>\r\n                  <TableCell>{formatDate(visitor.check_out_time)}</TableCell>\r\n                  <TableCell>{visitor.duration}</TableCell>\r\n                  <TableCell>{visitor.car_no_plate}</TableCell>\r\n                  <TableCell>\r\n                    <button\r\n                      className=\"text-blue-600 hover:underline\"\r\n                      onClick={() => handleView(visitor)}\r\n                    >\r\n                      View\r\n                    </button>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell colSpan={10}>No visitors found</TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"flex justify-end mt-4 space-x-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n          disabled={currentPage === 1}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <span className=\"text-sm py-2 px-4\">Page {currentPage}</span>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() =>\r\n            setCurrentPage((prev) =>\r\n              prev < Math.ceil(totalEntries / entriesPerPage)\r\n                ? prev + 1\r\n                : prev\r\n            )\r\n          }\r\n          disabled={currentPage >= Math.ceil(totalEntries / entriesPerPage)}\r\n        >\r\n          Next\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}